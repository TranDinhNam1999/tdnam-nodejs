"use strict";var express=require("express"),bodyParser=require("body-parser"),cookieSession=require("cookie-session"),db=require("./services/db"),app=express(),port=process.env.PORT||3e3;app.use(cookieSession({name:"session",keys:["123"],maxAge:864e5})),app.use(bodyParser.urlencoded({extended:!1})),app.use(bodyParser.json()),app.use(express.urlencoded()),app.use(require("./middlewares/auth")),app.set("views","./views"),app.set("view engine","ejs"),app.use("/login",require("./routes/login.route")),app.use("/register",require("./routes/register")),app.get("/logout",require("./routes/logout")),app.use("/profile",require("./routes/profile")),app.use("/todo",require("./routes/todos")),app.get("/testlogin",function(e,r){r.render("testlogin")}),app.use(express.static("public")),app.get("/",require("./routes/index")),db.sync().then(function(){app.listen(port,function(e,r){console.log("server action on port: "+port)})}).catch(function(e){console.error(e)});